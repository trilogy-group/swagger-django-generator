version: v1
productName: devflows
buildEnvVars:
  - key: PATH
    kind: config
    value: /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
  - key: LANG
    kind: config
    value: C.UTF-8
  - key: LC_ALL
    kind: config
    value: C.UTF-8
  - key: PIPELINE_INIT_COMMAND
    kind: config
    value: echo 'No init commands provided'
build:
    image: 652819854130.dkr.ecr.us-east-1.amazonaws.com/devhub/builder-bionic-python
    platform: linux
    preBuildCommand: apt-get update -y && apt-get install -y python3-pip curl && python3
        -m pip install pip==9.0.3 && pip3 install -r requirements.txt && pip3 install
        --upgrade keyrings.alt
    buildCommand: python setup.py sdist
test:
    testCommand: python -m unittest
package:
    artifactRepoType: raw
    packageCommand: echo none
    artifactDir: ./target
    artifactUploadCommand: twine upload --repository-url https://pypi.swarm.devfactory.com/
        --verbose dist/* --username $username --password $password
repoType: Deployable service
release:
    targetChartFile: DataServiceGeneratorLibrary
    dockerized: true
